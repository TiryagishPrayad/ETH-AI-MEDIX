{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tiryagishprayad/Pictures/finalproject/web5/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tiryagishprayad/Pictures/finalproject/web5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/tiryagishprayad/Pictures/finalproject/web5/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/tiryagishprayad/Pictures/finalproject/web5/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DiseasePredictor(_ref){var contract=_ref.contract,account=_ref.account;var _useState=useState(['','','','','']),_useState2=_slicedToArray(_useState,2),selectedSymptoms=_useState2[0],setSelectedSymptoms=_useState2[1];var _useState3=useState({decision_tree:'',random_forest:'',naive_bayes:''}),_useState4=_slicedToArray(_useState3,2),results=_useState4[0],setResults=_useState4[1];var l1=['back_pain','constipation','abdominal_pain','diarrhoea','mild_fever','yellow_urine','yellowing_of_eyes','acute_liver_failure','fluid_overload','swelling_of_stomach','swelled_lymph_nodes','malaise','blurred_and_distorted_vision','phlegm','throat_irritation','redness_of_eyes','sinus_pressure','runny_nose','congestion','chest_pain','weakness_in_limbs','fast_heart_rate','pain_during_bowel_movements','pain_in_anal_region','bloody_stool','irritation_in_anus','neck_pain','dizziness','cramps','bruising','obesity','swollen_legs','swollen_blood_vessels','puffy_face_and_eyes','enlarged_thyroid','brittle_nails','swollen_extremities','excessive_hunger','extra_marital_contacts','drying_and_tingling_lips','slurred_speech','knee_pain','hip_joint_pain','muscle_weakness','stiff_neck','swelling_joints','movement_stiffness','spinning_movements','loss_of_balance','unsteadiness','weakness_of_one_body_side','loss_of_smell','bladder_discomfort','foul_smell_of urine','continuous_feel_of_urine','passage_of_gases','internal_itching','toxic_look_(typhos)','depression','irritability','muscle_pain','altered_sensorium','red_spots_over_body','belly_pain','abnormal_menstruation','dischromic _patches','watering_from_eyes','increased_appetite','polyuria','family_history','mucoid_sputum','rusty_sputum','lack_of_concentration','visual_disturbances','receiving_blood_transfusion','receiving_unsterile_injections','coma','stomach_bleeding','distention_of_abdomen','history_of_alcohol_consumption','fluid_overload','blood_in_sputum','prominent_veins_on_calf','palpitations','painful_walking','pus_filled_pimples','blackheads','scurrying','skin_peeling','silver_like_dusting','small_dents_in_nails','inflammatory_nails','blister','red_sore_around_nose','yellow_crust_ooze'];// Function to handle symptom selection\nvar handleSymptomChange=function handleSymptomChange(event,index){var newSelectedSymptoms=_toConsumableArray(selectedSymptoms);newSelectedSymptoms[index]=event.target.value;setSelectedSymptoms(newSelectedSymptoms);};var predictDisease=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('http://localhost:5000/predict',{symptoms:selectedSymptoms});case 3:response=_context.sent;if(!(response.status===200)){_context.next=11;break;}data=response.data;setResults(data);_context.next=9;return storeDiseasePredictionsInContract(data);case 9:_context.next=13;break;case 11:console.error('Network response was not ok');setResults({decision_tree:'error',random_forest:'error',naive_bayes:'error'});case 13:_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.error('Error:',_context.t0);setResults({decision_tree:'error',random_forest:'error',naive_bayes:'error'});case 19:case\"end\":return _context.stop();}},_callee,null,[[0,15]]);}));return function predictDisease(){return _ref2.apply(this,arguments);};}();var storeDiseasePredictionsInContract=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(predictions){var tx;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return contract.setDiseasePredictions(predictions.decision_tree_disease,predictions.random_forest_disease,predictions.naive_bayes_disease);case 3:tx=_context2.sent;console.log('Transaction Hash:',tx.hash);_context2.next=7;return tx.wait();case 7:console.log('Disease predictions stored on the smart contract');_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error('Error storing disease predictions:',_context2.t0);case 13:case\"end\":return _context2.stop();}},_callee2,null,[[0,10]]);}));return function storeDiseasePredictionsInContract(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Disease Predictor\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Select Symptoms:\"}),/*#__PURE__*/_jsx(\"br\",{}),selectedSymptoms.map(function(selectedSymptom,index){return/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return handleSymptomChange(e,index);},value:selectedSymptom,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Symptom\"}),l1.map(function(symptom,symptomIndex){return/*#__PURE__*/_jsx(\"option\",{value:symptom,children:symptom},\"\".concat(symptom,\"-\").concat(symptomIndex));})]},\"\".concat(selectedSymptom,\"-\").concat(index));}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:predictDisease,children:\"Predict Disease\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Decision Tree: \",results.decision_tree_disease,/*#__PURE__*/_jsx(\"br\",{}),\"Random Forest: \",results.random_forest_disease,/*#__PURE__*/_jsx(\"br\",{}),\"Naive Bayes: \",results.naive_bayes_disease]})]});}export default DiseasePredictor;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","DiseasePredictor","_ref","contract","account","_useState","_useState2","_slicedToArray","selectedSymptoms","setSelectedSymptoms","_useState3","decision_tree","random_forest","naive_bayes","_useState4","results","setResults","l1","handleSymptomChange","event","index","newSelectedSymptoms","_toConsumableArray","target","value","predictDisease","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","post","symptoms","sent","status","storeDiseasePredictionsInContract","console","error","t0","stop","apply","arguments","_ref3","_callee2","predictions","tx","_callee2$","_context2","setDiseasePredictions","decision_tree_disease","random_forest_disease","naive_bayes_disease","log","hash","wait","_x","children","map","selectedSymptom","onChange","e","symptom","symptomIndex","concat","onClick"],"sources":["/Users/tiryagishprayad/Pictures/finalproject/web5/src/components/dise.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction DiseasePredictor({ contract, account }) {\n  const [selectedSymptoms, setSelectedSymptoms] = useState(['', '', '', '', '']);\n  const [results, setResults] = useState({\n    decision_tree: '',\n    random_forest: '',\n    naive_bayes: '',\n  });\n\n  const l1 = ['back_pain', 'constipation', 'abdominal_pain', 'diarrhoea', 'mild_fever', 'yellow_urine',\n  'yellowing_of_eyes', 'acute_liver_failure', 'fluid_overload', 'swelling_of_stomach',\n  'swelled_lymph_nodes', 'malaise', 'blurred_and_distorted_vision', 'phlegm', 'throat_irritation',\n  'redness_of_eyes', 'sinus_pressure', 'runny_nose', 'congestion', 'chest_pain', 'weakness_in_limbs',\n  'fast_heart_rate', 'pain_during_bowel_movements', 'pain_in_anal_region', 'bloody_stool',\n  'irritation_in_anus', 'neck_pain', 'dizziness', 'cramps', 'bruising', 'obesity', 'swollen_legs',\n  'swollen_blood_vessels', 'puffy_face_and_eyes', 'enlarged_thyroid', 'brittle_nails',\n  'swollen_extremities', 'excessive_hunger', 'extra_marital_contacts', 'drying_and_tingling_lips',\n  'slurred_speech', 'knee_pain', 'hip_joint_pain', 'muscle_weakness', 'stiff_neck', 'swelling_joints',\n  'movement_stiffness', 'spinning_movements', 'loss_of_balance', 'unsteadiness',\n  'weakness_of_one_body_side', 'loss_of_smell', 'bladder_discomfort', 'foul_smell_of urine',\n  'continuous_feel_of_urine', 'passage_of_gases', 'internal_itching', 'toxic_look_(typhos)',\n  'depression', 'irritability', 'muscle_pain', 'altered_sensorium', 'red_spots_over_body', 'belly_pain',\n  'abnormal_menstruation', 'dischromic _patches', 'watering_from_eyes', 'increased_appetite', 'polyuria',\n  'family_history', 'mucoid_sputum', 'rusty_sputum', 'lack_of_concentration', 'visual_disturbances',\n  'receiving_blood_transfusion', 'receiving_unsterile_injections', 'coma', 'stomach_bleeding',\n  'distention_of_abdomen', 'history_of_alcohol_consumption', 'fluid_overload', 'blood_in_sputum',\n  'prominent_veins_on_calf', 'palpitations', 'painful_walking', 'pus_filled_pimples', 'blackheads',\n  'scurrying', 'skin_peeling', 'silver_like_dusting', 'small_dents_in_nails', 'inflammatory_nails',\n  'blister', 'red_sore_around_nose', 'yellow_crust_ooze'\n\n  ];\n\n\n  // Function to handle symptom selection\n  const handleSymptomChange = (event, index) => {\n    const newSelectedSymptoms = [...selectedSymptoms];\n    newSelectedSymptoms[index] = event.target.value;\n    setSelectedSymptoms(newSelectedSymptoms);\n  };\n\n  const predictDisease = async () => {\n    try {\n      const response = await axios.post('http://localhost:5000/predict', { symptoms: selectedSymptoms });\n\n      if (response.status === 200) {\n        const data = response.data;\n        setResults(data);\n\n        await storeDiseasePredictionsInContract(data);\n      } else {\n        console.error('Network response was not ok');\n        setResults({\n          decision_tree: 'error',\n          random_forest: 'error',\n          naive_bayes: 'error',\n        });\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      setResults({\n        decision_tree: 'error',\n        random_forest: 'error',\n        naive_bayes: 'error',\n      });\n    }\n  };\n\n  const storeDiseasePredictionsInContract = async (predictions) => {\n    try {\n      const tx = await contract.setDiseasePredictions(\n        predictions.decision_tree_disease,\n        predictions.random_forest_disease,\n        predictions.naive_bayes_disease\n      );\n      console.log('Transaction Hash:', tx.hash);\n      await tx.wait();\n      console.log('Disease predictions stored on the smart contract');\n    } catch (error) {\n      console.error('Error storing disease predictions:', error);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Disease Predictor</h1>\n      <label>Select Symptoms:</label>\n      <br />\n      {selectedSymptoms.map((selectedSymptom, index) => (\n        <select key={`${selectedSymptom}-${index}`} onChange={(e) => handleSymptomChange(e, index)} value={selectedSymptom}>\n          <option value=\"\">Select Symptom</option>\n          {l1.map((symptom, symptomIndex) => (\n            <option key={`${symptom}-${symptomIndex}`} value={symptom}>\n              {symptom}\n            </option>\n          ))}\n        </select>\n      ))}\n\n      <br />\n      <button onClick={predictDisease}>Predict Disease</button>\n      <p>\n        Decision Tree: {results.decision_tree_disease}\n        <br />\n        Random Forest: {results.random_forest_disease}\n        <br />\n        Naive Bayes: {results.naive_bayes_disease}\n      </p>\n    </div>\n  );\n}\n\nexport default DiseasePredictor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}