{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tiryagishprayad/Pictures/dis3.2/web4/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tiryagishprayad/Pictures/dis3.2/web4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tiryagishprayad/Pictures/dis3.2/web4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import\"./Display.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Display=function Display(_ref){var contract=_ref.contract,account=_ref.account;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var getdata=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var dataArray,Otheraddress,isEmpty,str,str_array,images;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:Otheraddress=document.querySelector(\".address\").value;_context.prev=1;if(!Otheraddress){_context.next=8;break;}_context.next=5;return contract.display(Otheraddress);case 5:dataArray=_context.sent;_context.next=11;break;case 8:_context.next=10;return contract.display(account);case 10:dataArray=_context.sent;case 11:console.log(dataArray);isEmpty=Object.keys(dataArray).length===0;if(!isEmpty){str=dataArray.toString();str_array=str.split(\",\");console.log(str);console.log(str_array);images=str_array.map(function(item,i){return/*#__PURE__*/_jsxs(\"a\",{href:item,target:\"_blank\",rel:\"noreferrer\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://gateway.pinata.cloud/ipfs/\".concat(item.substring(6)),alt:\"Patient Health Record\",className:\"image-list\"},i),/*#__PURE__*/_jsx(\"span\",{className:\"record-text\",children:\"Patient Health Record\"})]},i);});setData(images);}else{alert(\"No Record to display\");}_context.next=20;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);console.error(_context.t0);alert(\"Error: \"+_context.t0.message);case 20:case\"end\":return _context.stop();}},_callee,null,[[1,16]]);}));return function getdata(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Address\",className:\"address\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"center button\",onClick:getdata,children:\"Get Patient Record\"}),/*#__PURE__*/_jsx(\"div\",{className:\"image-list\",children:data})]});};export default Display;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Display","_ref","contract","account","_useState","_useState2","_slicedToArray","data","setData","getdata","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dataArray","Otheraddress","isEmpty","str","str_array","images","wrap","_callee$","_context","prev","next","document","querySelector","value","display","sent","console","log","Object","keys","length","toString","split","map","item","i","href","target","rel","children","src","concat","substring","alt","className","alert","t0","error","message","stop","apply","arguments","type","placeholder","onClick"],"sources":["/Users/tiryagishprayad/Pictures/dis3.2/web4/src/components/Display.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport \"./Display.css\";\r\n\r\nconst Display = ({ contract, account }) => {\r\n  const [data, setData] = useState(\"\");\r\n\r\n  const getdata = async () => {\r\n    let dataArray;\r\n    const Otheraddress = document.querySelector(\".address\").value;\r\n\r\n    try {\r\n      if (Otheraddress) {\r\n        dataArray = await contract.display(Otheraddress);\r\n      } else {\r\n        dataArray = await contract.display(account);\r\n      }\r\n      console.log(dataArray);\r\n\r\n      const isEmpty = Object.keys(dataArray).length === 0;\r\n\r\n      if (!isEmpty) {\r\n        const str = dataArray.toString();\r\n        const str_array = str.split(\",\");\r\n        console.log(str);\r\n        console.log(str_array);\r\n\r\n        const images = str_array.map((item, i) => {\r\n          return (\r\n            <a href={item} key={i} target=\"_blank\" rel=\"noreferrer\">\r\n              <img\r\n                key={i}\r\n                src={`https://gateway.pinata.cloud/ipfs/${item.substring(6)}`}\r\n                alt=\"Patient Health Record\"\r\n                className=\"image-list\"\r\n              ></img>\r\n              <span className=\"record-text\">Patient Health Record</span>\r\n            </a>\r\n          );\r\n        });\r\n\r\n        setData(images);\r\n      } else {\r\n        alert(\"No Record to display\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Error: \" + error.message);\r\n    }\r\n  };\r\n\r\n  \r\n  \r\n\r\n  return (\r\n    <>\r\n      <input type=\"text\" placeholder=\"Enter Address\" className=\"address\" />\r\n      <br /><br />\r\n      <button className=\"center button\" onClick={getdata}>\r\n        Get Patient Record\r\n      </button>\r\n      <div className=\"image-list\">{data}</div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Display;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}